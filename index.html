<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
	    <meta http-equiv="x-ua-compatible" content="ie=edge">
	    <title>zoso.github.io</title>
	    <meta name="description" content="">
	    <meta name="viewport" content="width=device-width, initial-scale=1">
	    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	    <link rel="stylesheet" href="style.css">   
	</head>
<body>
<header>
	<div class="container">
		<div class="row">
			<div class="col-sm-12">
				<h1>zoso.github.io</h1>
			</div>
			<div class="col-sm-12">
				<p>
					Getting started with service workers
				</p>
			</div>
		</div>
	</div>
</header>
<main>
	<div class="container">
		<div class="row">
			<div class="col-sm-12">
				See more info on the <a href="about.html">about page</a>
			</div>
		</div>
	</div>
</main>
<footer>
	
</footer>

<script>

	if (navigator.serviceWorker) {
		navigator.serviceWorker.register('./service-worker.js', {scope: './'})
		.then(function(registration) {
			console.log(registration);
			registration.pushManager.subscribe().then(
				function(pushSubscription) {
					console.log(pushSubscription.endpoint);
					console.log(pushSubscription.getKey('p256dh'));
        			console.log(pushSubscription.getKey('auth'));
				}, function(error) {
					console.log(error);
				}
			)
		})
		.catch(function(e) {
			console.error(e);
		})
	} else {
		console.log("Error. Service Worker is not supported");
	}
</script>

</body>
</html>